<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"
		integrity="sha384-xBuQ/xzmlsLoJpyjoggmTEz8OWUFM0/RC5BsqQBDX2v5cMvDHcMakNTNrHIW2I5f"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
		integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
		integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
		crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
		integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    </head>


    <body>
        <div class="container">
            <h1 class="mt-5">Ratings!!</h1>
            <p class="my-5">
                Rate these movies so that we know what you prefer!
            </p>
            <form action="#" th:object="${userForm}" th:action="@{/recommend/submit}" method="post"> 
                <table class="table table-hover table-striped mb-5">
                    <thead class="thead-light h5">
                        <tr>
                            <th>Poster</th>
                            <th>Title</th>
                            <th>Rating</th>
                        </tr>
                    </thead>
                    <tr th:each="userRating, itemStat: *{userRatings}">
                        <td>
                            <img th:src="${userRating.movie.poster}" width="300" height="300"/>
                        </td>
                        <td th:text="${userRating.movie.title}"></td>
                        <td>
                            <fieldset>
                                <select th:field="*{userRatings[__${itemStat.index}__].rating}">
                                    <option th:value="1">1</option>
                                    <option th:value="2">2</option>
                                    <option th:value="3">3</option>
                                    <option th:value="4">4</option>
                                    <option th:value="5">5</option>
                                    <option th:value="6">6</option>
                                    <option th:value="7">7</option>
                                    <option th:value="8">8</option>
                                    <option th:value="9">9</option>
                                    <option th:value="10">10</option>
                                </select>
                            </fieldset>
                        </td>
                        <td><input type="hidden" th:field="*{userRatings[__${itemStat.index}__].movieid}" /></td>
                    </tr>
                </table>
                <fieldset class="mb-5">
                    <input class="btn btn-primary" type="submit" th:value ="Save"/>
                    <input class="btn btn-secondary" type="reset" id="resetButton" name="reset" th:value="Reset"/>
                </fieldset>
            </form>
        </div>
    </body>
    
</html>